using boostbook
  : /usr/share/xml/docbook/stylesheet/docbook-xsl/
  : /usr/share/xml/docbook/schema/dtd/4.2/
  : /usr/share/boostbook
  ;

using xsltproc : @XSLTPROC@ ;

using doxygen : @DOXYGEN@ ;

using fop : @FOP@ ;

using quickbook : @CMAKE_CURRENT_BINARY_DIR@/quickbook.sh ;

doxygen autodoc
    :
        [ glob @CMAKE_SOURCE_DIR@/include/zeep/*.hpp ]
        [ glob @CMAKE_SOURCE_DIR@/include/zeep/xml/*.hpp ]
        [ glob @CMAKE_SOURCE_DIR@/include/zeep/json/*.hpp ]
        [ glob @CMAKE_SOURCE_DIR@/include/zeep/http/*.hpp ]
        [ glob @CMAKE_SOURCE_DIR@/include/zeep/rest/*.hpp ]
        [ glob @CMAKE_SOURCE_DIR@/include/zeep/soap/*.hpp ]
    :
		<doxygen:param>"PREDEFINED=\"HTTP_SERVER_HAS_PREFORK\""
        <doxygen:param>HIDE_UNDOC_MEMBERS=YES
        <doxygen:param>EXTRACT_PRIVATE=NO
        <doxygen:param>ENABLE_PREPROCESSING=YES
        <doxygen:param>MACRO_EXPANSION=YES
        <doxygen:param>EXPAND_ONLY_PREDEF=YES
        <doxygen:param>SEARCH_INCLUDES=YES
        <doxygen:param>INCLUDE_PATH=$(BOOST_ROOT)
		<doxygen:param>FULL_PATH_NAMES=YES
		<doxygen:param>STRIP_FROM_PATH=@CMAKE_SOURCE_DIR@/include
		<doxygen:params>SORT_MEMBER_DOCS=NO
    ;

xml libzeep-doc : @CMAKE_SOURCE_DIR@/doc/libzeep-doc.qbk ;

boostbook standalone
    :
        libzeep-doc autodoc
    :
        <xsl:param>boost.image.src=images/logo.png
        <xsl:param>boost.image.alt="\"libzeep\""
        <xsl:param>boost.image.w=100
        <xsl:param>boost.image.h=50
        <xsl:param>nav.layout=none
        <dependency>css
        <dependency>images
        <xsl:param>boost.root="https://www.hekkelman.com/libzeep-doc/include/"
        <xsl:param>html.stylesheet=css/zeep.css
        <xsl:param>img.src.path=images/
        <xsl:param>boost.graphics.root=images/
        <xsl:param>boost.mobile=1
    ;


install css : [ glob @CMAKE_SOURCE_DIR@/doc/css/*.css ]
    : <location>html/css ;

install images
	: [ glob @CMAKE_SOURCE_DIR@/doc/images/*.png ]
	  [ glob @CMAKE_SOURCE_DIR@/doc/images/callouts/*.png ]
    : <location>html/images ;

explicit css ;

explicit images ;
